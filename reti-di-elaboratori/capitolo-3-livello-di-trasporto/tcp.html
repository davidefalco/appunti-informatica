<!doctype html><html><head><title>TCP</title><base href="../"><meta id="root-path" root-path="../"><link rel="icon" sizes="96x96" href="https://publish-01.obsidian.md/access/f786db9fac45774fa4f0d8112e232d67/favicon-96x96.png"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes,minimum-scale=1,maximum-scale=5"><meta charset="UTF-8"><link rel="stylesheet" href="lib/styles/obsidian-styles.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="stylesheet" href="lib/styles/plugin-styles.css"><link rel="stylesheet" href="lib/styles/snippets.css"><link rel="stylesheet" href="lib/styles/generated-styles.css"><style></style><script type="module" src="lib/scripts/graph_view.js"></script><script src="lib/scripts/graph_wasm.js"></script><script src="lib/scripts/tinycolor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js" integrity="sha512-Ch/O6kL8BqUwAfCF7Ie5SX1Hin+BJgYH4pNjRqXdTEqMsis1TUYg+j6nnI9uduPjGaj7DN4UKCZgpvoExt6dkw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lib/scripts/webpage.js"></script><script src="lib/scripts/generated.js"></script></head><body class="theme-dark show-inline-title loading"><div class="webpage-container"><div class="sidebar-left sidebar"><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="tree-container file-tree mod-nav-indicator" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Reti di elaboratori</span><button class="clickable-icon collapse-tree-button is-collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Capitolo 1 - Introduzione alle reti</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-1-introduzione-alle-reti/esercizi-sul-capitolo-1.html"><span class="tree-item-title">Esercizi sul capitolo 1</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-1-introduzione-alle-reti/il-nucleo-della-rete.html"><span class="tree-item-title">Il nucleo della rete</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-1-introduzione-alle-reti/introduzione-alle-reti-start-point.html"><span class="tree-item-title">Introduzione alle reti - Start point</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-1-introduzione-alle-reti/protocolli-di-rete.html"><span class="tree-item-title">Protocolli di rete</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-1-introduzione-alle-reti/ritardi,-perdite-e-throughput-nelle-reti-a-commutazione-di-pacchetto.html"><span class="tree-item-title">Ritardi, perdite e throughput nelle reti a commutazione di pacchetto</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-1-introduzione-alle-reti/ritardo-di-accodamento.html"><span class="tree-item-title">Ritardo di accodamento</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Capitolo 2 - Livello di applicazione</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/architetture-delle-applicazioni-di-rete-start-point.html"><span class="tree-item-title">Architetture delle applicazioni di rete - Start point</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/dns.html"><span class="tree-item-title">DNS</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/esercizi-sul-capitolo-2.html"><span class="tree-item-title">Esercizi sul capitolo 2</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/http.html"><span class="tree-item-title">HTTP</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/interazione-utente-server.html"><span class="tree-item-title">Interazione utente-server</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/p2p-vs-client-server.html"><span class="tree-item-title">P2P VS Client-Server</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/posta-elettronica-in-internet.html"><span class="tree-item-title">Posta elettronica in internet</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/programmazione-delle-socket.html"><span class="tree-item-title">Programmazione delle socket</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-2-livello-di-applicazione/streaming-video.html"><span class="tree-item-title">Streaming video</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Capitolo 3 - Livello di trasporto</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-3-livello-di-trasporto/controllo-della-congestione-in-tcp.html"><span class="tree-item-title">Controllo della congestione in TCP</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-3-livello-di-trasporto/esercizi-sul-capitolo-3.html"><span class="tree-item-title">Esercizi sul capitolo 3</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-3-livello-di-trasporto/go-back-n.html"><span class="tree-item-title">Go-Back-N</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-3-livello-di-trasporto/livello-di-trasporto-start-point.html"><span class="tree-item-title">Livello di trasporto - Start point</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-3-livello-di-trasporto/ripetizione-selettiva.html"><span class="tree-item-title">Ripetizione selettiva</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-3-livello-di-trasporto/tcp.html"><span class="tree-item-title">TCP</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-3-livello-di-trasporto/trasporto-non-orientato-alla-connessione-udp.html"><span class="tree-item-title">Trasporto non orientato alla connessione - UDP</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-3-livello-di-trasporto/trasporto-orientato-alla-connessione-tcp.html"><span class="tree-item-title">Trasporto orientato alla connessione - TCP</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Capitolo 4 - Livello di rete (piano dei dati)</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/esercizi-sul-capitolo-4.html"><span class="tree-item-title">Esercizi sul capitolo 4</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/icmp-internet-control-message-protocol.html"><span class="tree-item-title">ICMP - Internet Control Message Protocol</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/il-protocollo-ipv4.html"><span class="tree-item-title">Il protocollo IPv4</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/il-protocollo-ipv6.html"><span class="tree-item-title">Il protocollo IPv6</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/inoltro-generalizzato-e-sdn.html"><span class="tree-item-title">Inoltro generalizzato e SDN</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/livello-di-rete-start-point.html"><span class="tree-item-title">Livello di rete - Start point</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/metodi-di-routing.html"><span class="tree-item-title">Metodi di routing</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/protocollo-arp.html"><span class="tree-item-title">Protocollo ARP</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-4-livello-di-rete-(piano-dei-dati)/struttura-router.html"><span class="tree-item-title">Struttura router</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Capitolo 5 - Livello di rete (piano di controllo)</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-5-livello-di-rete-(piano-di-controllo)/algoritmi-di-instradamento.html"><span class="tree-item-title">Algoritmi di instradamento</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-5-livello-di-rete-(piano-di-controllo)/esercizi-capitolo-5.html"><span class="tree-item-title">Esercizi capitolo 5</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-5-livello-di-rete-(piano-di-controllo)/gestione-della-rete-e-snmp.html"><span class="tree-item-title">Gestione della rete e SNMP</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-5-livello-di-rete-(piano-di-controllo)/il-piano-di-controllo-sdn.html"><span class="tree-item-title">Il piano di controllo SDN</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-5-livello-di-rete-(piano-di-controllo)/instradamento-distance-vector.html"><span class="tree-item-title">Instradamento Distance-Vector</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-5-livello-di-rete-(piano-di-controllo)/instradamento-link-state.html"><span class="tree-item-title">Instradamento Link-State</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-5-livello-di-rete-(piano-di-controllo)/introduzione-start-point.html"><span class="tree-item-title">Introduzione - Start point</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-5-livello-di-rete-(piano-di-controllo)/ospf-e-bgp.html"><span class="tree-item-title">OSPF e BGP</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Capitolo 6 - Livello di collegamento</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/aloha.html"><span class="tree-item-title">ALOHA</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/canali-virtuali-(mpls)-e-reti-dei-data-center.html"><span class="tree-item-title">Canali virtuali (MPLS) e reti dei data center</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/collegamento-broadcast.html"><span class="tree-item-title">Collegamento broadcast</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/condivisione-di-un-canale-broadcast-accesso-multiplo.html"><span class="tree-item-title">Condivisione di un canale broadcast - accesso multiplo</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/controllo-a-ridondanza-ciclica.html"><span class="tree-item-title">Controllo a ridondanza ciclica</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/controllo-di-parità.html"><span class="tree-item-title">Controllo di parità</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/csma.html"><span class="tree-item-title">CSMA</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/esercizi-capitolo-6.html"><span class="tree-item-title">Esercizi capitolo 6</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/ethernet.html"><span class="tree-item-title">Ethernet</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/obiettivi-di-questo-capitolo-start-point.html"><span class="tree-item-title">Obiettivi di questo capitolo - Start point</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/protocolli-a-rotazione.html"><span class="tree-item-title">Protocolli a rotazione</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/protocolli-a-suddivisione-di-canale.html"><span class="tree-item-title">Protocolli a suddivisione di canale</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/protocolli-ad-accesso-casuale.html"><span class="tree-item-title">Protocolli ad accesso casuale</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/rilevazione-e-correzione-degli-errori.html"><span class="tree-item-title">Rilevazione e correzione degli errori</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/tecniche-di-checksum.html"><span class="tree-item-title">Tecniche di checksum</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-6-livello-di-collegamento/vlan.html"><span class="tree-item-title">VLAN</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Capitolo 7 - Reti mobili e wireless</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/cdma.html"><span class="tree-item-title">CDMA</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/collegamenti-wireless-e-caratteristiche-di-rete.html"><span class="tree-item-title">Collegamenti wireless e caratteristiche di rete</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/esercizi-capitolo-7.html"><span class="tree-item-title">Esercizi capitolo 7</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/gestione-della-mobilità.html"><span class="tree-item-title">Gestione della mobilità</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/gestione-della-mobilità-nelle-reti-cellulari-(gsm).html"><span class="tree-item-title">Gestione della mobilità nelle reti cellulari (GSM)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/introduzione-start-point.html"><span class="tree-item-title">Introduzione - Start point</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/ip-mobile.html"><span class="tree-item-title">IP mobile</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/panoramica-dell'architettura-di-una-rete-cellulare.html"><span class="tree-item-title">Panoramica dell'architettura di una rete cellulare</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/personal-area-network-bluetooth-(802.15.1)-e-zigbee-(802.15.4).html"><span class="tree-item-title">Personal Area Network - Bluetooth (802.15.1) e Zigbee (802.15.4)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/wi-fi-lan-wireless-802.11.html"><span class="tree-item-title">Wi-Fi - LAN wireless 802.11</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="capitolo-7-reti-mobili-e-wireless/wireless-e-mobilità-l'impatto-sui-protocolli-a-livello-superiore.html"><span class="tree-item-title">Wireless e mobilità - l'impatto sui protocolli a livello superiore</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div></div><div class="document-container show"><div class="markdown-preview-view markdown-rendered node-insert-event is-readable-line-width allow-fold-headings show-indentation-guide allow-fold-lists show-properties" style="tab-size:4"><style id="MJX-CHTML-styles">mjx-c.mjx-cD7::before{padding:.491em .778em 0 0;content:"×"}mjx-munderover{display:inline-block;text-align:left}mjx-munderover:not([limits=false]){padding-top:.1em}mjx-munderover:not([limits=false])>*{display:block}mjx-c.mjx-c1D44D.TEX-I::before{padding:.683em .723em 0 0;content:"Z"}mjx-c.mjx-c2211.TEX-S2::before{padding:.95em 1.444em .45em 0;content:"∑"}mjx-c.mjx-c2192::before{padding:.511em 1em .011em 0;content:"→"}mjx-c.mjx-c2208::before{padding:.54em .667em .04em 0;content:"∈"}mjx-c.mjx-c2295::before{padding:.583em .778em .083em 0;content:"⊕"}mjx-c.mjx-c6D::before{padding:.442em .833em 0 0;content:"m"}mjx-c.mjx-c6F::before{padding:.448em .5em .01em 0;content:"o"}mjx-c.mjx-c64::before{padding:.694em .556em .011em 0;content:"d"}mjx-c.mjx-c2260::before{padding:.716em .778em .215em 0;content:"≠"}mjx-c.mjx-c2217::before{padding:.465em .5em 0 0;content:"∗"}mjx-c.mjx-c3A::before{padding:.43em .278em 0 0;content:":"}mjx-c.mjx-c221E::before{padding:.442em 1em .011em 0;content:"∞"}mjx-c.mjx-c1D449.TEX-I::before{padding:.683em .769em .022em 0;content:"V"}mjx-c.mjx-c2211.TEX-S1::before{padding:.75em 1.056em .25em 0;content:"∑"}mjx-mtext{display:inline-block;text-align:left}mjx-c.mjx-c1D707.TEX-I::before{padding:.442em .603em .216em 0;content:"μ"}mjx-c.mjx-c39B::before{padding:.716em .694em 0 0;content:"Λ"}mjx-mtable{display:inline-block;text-align:center;vertical-align:.25em;position:relative;box-sizing:border-box;border-spacing:0px;border-collapse:collapse}mjx-mstyle[size="s"] mjx-mtable{vertical-align:.354em}mjx-labels{position:absolute;left:0;top:0}mjx-table{display:inline-block;vertical-align:-.5ex;box-sizing:border-box}mjx-table>mjx-itable{vertical-align:middle;text-align:left;box-sizing:border-box}mjx-labels>mjx-itable{position:absolute;top:0}mjx-mtable[justify=left]{text-align:left}mjx-mtable[justify=right]{text-align:right}mjx-mtable[justify=left][side=left]{padding-right:0!important}mjx-mtable[justify=left][side=right]{padding-left:0!important}mjx-mtable[justify=right][side=left]{padding-right:0!important}mjx-mtable[justify=right][side=right]{padding-left:0!important}mjx-mtable[align]{vertical-align:baseline}mjx-mtable[align=top]>mjx-table{vertical-align:top}mjx-mtable[align=bottom]>mjx-table{vertical-align:bottom}mjx-mtable[side=right] mjx-labels{min-width:100%}mjx-mtr{display:table-row;text-align:left}mjx-mtr[rowalign=top]>mjx-mtd{vertical-align:top}mjx-mtr[rowalign=center]>mjx-mtd{vertical-align:middle}mjx-mtr[rowalign=bottom]>mjx-mtd{vertical-align:bottom}mjx-mtr[rowalign=baseline]>mjx-mtd{vertical-align:baseline}mjx-mtr[rowalign=axis]>mjx-mtd{vertical-align:.25em}mjx-mtd{display:table-cell;text-align:center;padding:.215em .4em}mjx-mtd:first-child{padding-left:0}mjx-mtd:last-child{padding-right:0}mjx-mtable>*>mjx-itable>:first-child>mjx-mtd{padding-top:0}mjx-mtable>*>mjx-itable>:last-child>mjx-mtd{padding-bottom:0}mjx-tstrut{display:inline-block;height:1em;vertical-align:-.25em}mjx-labels[align=left]>mjx-mtr>mjx-mtd{text-align:left}mjx-labels[align=right]>mjx-mtr>mjx-mtd{text-align:right}mjx-mtd[extra]{padding:0}mjx-mtd[rowalign=top]{vertical-align:top}mjx-mtd[rowalign=center]{vertical-align:middle}mjx-mtd[rowalign=bottom]{vertical-align:bottom}mjx-mtd[rowalign=baseline]{vertical-align:baseline}mjx-mtd[rowalign=axis]{vertical-align:.25em}mjx-msubsup{display:inline-block;text-align:left}mjx-script{display:inline-block;padding-right:.05em;padding-left:.033em}mjx-script>mjx-spacer{display:block}mjx-c.mjx-c1D706.TEX-I::before{padding:.694em .583em .012em 0;content:"λ"}mjx-c.mjx-c2032::before{padding:.56em .275em 0 0;content:"′"}mjx-mspace{display:inline-block;text-align:left}mjx-c.mjx-c1D6FC.TEX-I::before{padding:.442em .64em .011em 0;content:"α"}mjx-c.mjx-c1D6FD.TEX-I::before{padding:.705em .566em .194em 0;content:"β"}mjx-c.mjx-c7C::before{padding:.75em .278em .249em 0;content:"|"}mjx-c.mjx-c1D43C.TEX-I::before{padding:.683em .504em 0 0;content:"I"}mjx-c.mjx-c3C::before{padding:.54em .778em .04em 0;content:"<"}mjx-c.mjx-c1D453.TEX-I::before{padding:.705em .55em .205em 0;content:"f"}mjx-c.mjx-c5B::before{padding:.75em .278em .25em 0;content:"["}mjx-c.mjx-c5D::before{padding:.75em .278em .25em 0;content:"]"}mjx-c.mjx-c1D448.TEX-I::before{padding:.683em .767em .022em 0;content:"U"}mjx-c.mjx-c1D70F.TEX-I::before{padding:.431em .517em .013em 0;content:"τ"}mjx-c.mjx-c2265::before{padding:.636em .778em .138em 0;content:"≥"}mjx-c.mjx-c1D446.TEX-I::before{padding:.705em .645em .022em 0;content:"S"}mjx-c.mjx-c2264::before{padding:.636em .778em .138em 0;content:"≤"}mjx-c.mjx-c1D464.TEX-I::before{padding:.443em .716em .011em 0;content:"w"}mjx-c.mjx-c1D44A.TEX-I::before{padding:.683em 1.048em .022em 0;content:"W"}mjx-c.mjx-c5B.TEX-S3::before{padding:1.45em .528em .949em 0;content:"["}mjx-c.mjx-c5D.TEX-S3::before{padding:1.45em .528em .949em 0;content:"]"}mjx-c.mjx-c1D462.TEX-I::before{padding:.442em .572em .011em 0;content:"u"}mjx-c.mjx-c7B::before{padding:.75em .5em .25em 0;content:"{"}mjx-c.mjx-c7D::before{padding:.75em .5em .25em 0;content:"}"}mjx-c.mjx-c1D437.TEX-I::before{padding:.683em .828em 0 0;content:"D"}mjx-c.mjx-c1D465.TEX-I::before{padding:.442em .572em .011em 0;content:"x"}mjx-c.mjx-c7B.TEX-S3::before{padding:1.45em .75em .949em 0;content:"{"}mjx-c.mjx-c7D.TEX-S3::before{padding:1.45em .75em .949em 0;content:"}"}mjx-c.mjx-c22EF::before{padding:.31em 1.172em 0 0;content:"⋯"}mjx-c.mjx-c1D43E.TEX-I::before{padding:.683em .889em 0 0;content:"K"}mjx-c.mjx-c1D436.TEX-I::before{padding:.705em .76em .022em 0;content:"C"}mjx-c.mjx-c1D443.TEX-I::before{padding:.683em .751em 0 0;content:"P"}mjx-c.mjx-c1D434.TEX-I::before{padding:.716em .75em 0 0;content:"A"}mjx-c.mjx-c1D438.TEX-I::before{padding:.68em .764em 0 0;content:"E"}mjx-c.mjx-c210E.TEX-I::before{padding:.694em .576em .011em 0;content:"h"}mjx-c.mjx-c28.TEX-S3::before{padding:1.45em .736em .949em 0;content:"("}mjx-c.mjx-c1D457.TEX-I::before{padding:.661em .412em .204em 0;content:"j"}mjx-c.mjx-c29.TEX-S3::before{padding:1.45em .736em .949em 0;content:")"}mjx-c.mjx-c1D466.TEX-I::before{padding:.442em .49em .205em 0;content:"y"}mjx-c.mjx-c1D442.TEX-I::before{padding:.704em .763em .022em 0;content:"O"}mjx-c.mjx-c1D467.TEX-I::before{padding:.442em .465em .011em 0;content:"z"}mjx-c.mjx-c1D454.TEX-I::before{padding:.442em .477em .205em 0;content:"g"}mjx-c.mjx-c28::before{padding:.75em .389em .25em 0;content:"("}mjx-c.mjx-c29::before{padding:.75em .389em .25em 0;content:")"}mjx-c.mjx-c1D439.TEX-I::before{padding:.68em .749em 0 0;content:"F"}mjx-c.mjx-c1D447.TEX-I::before{padding:.677em .704em 0 0;content:"T"}mjx-c.mjx-c3E::before{padding:.54em .778em .04em 0;content:">"}mjx-c.mjx-c2026::before{padding:.12em 1.172em 0 0;content:"…"}mjx-c.mjx-c1D43B.TEX-I::before{padding:.683em .888em 0 0;content:"H"}mjx-c.mjx-c1D441.TEX-I::before{padding:.683em .888em 0 0;content:"N"}mjx-c.mjx-c1D452.TEX-I::before{padding:.442em .466em .011em 0;content:"e"}mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}mjx-assistive-mml{top:0;left:0;clip:rect(1px,1px,1px,1px);user-select:none;position:absolute!important;padding:1px 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;letter-spacing:normal;border-collapse:collapse;overflow-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-mn{display:inline-block;text-align:left}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scaleX(1)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scaleX(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaleY(1);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-mfrac{display:inline-block;text-align:left}mjx-frac{display:inline-block;vertical-align:.17em;padding:0 .22em}mjx-frac[type="d"]{vertical-align:.04em}mjx-frac[delims]{padding:0 .1em}mjx-frac[atop]{padding:0 .12em}mjx-frac[atop][delims]{padding:0}mjx-dtable{display:inline-table;width:100%}mjx-dtable>*{font-size:2000%}mjx-dbox{display:block;font-size:5%}mjx-num{display:block;text-align:center}mjx-den{display:block;text-align:center}mjx-mfrac[bevelled]>mjx-num{display:inline-block}mjx-mfrac[bevelled]>mjx-den{display:inline-block}mjx-den[align=right],mjx-num[align=right]{text-align:right}mjx-den[align=left],mjx-num[align=left]{text-align:left}mjx-nstrut{display:inline-block;height:.054em;width:0;vertical-align:-.054em}mjx-nstrut[type="d"]{height:.217em;vertical-align:-.217em}mjx-dstrut{display:inline-block;height:.505em;width:0}mjx-dstrut[type="d"]{height:.726em}mjx-line{display:block;box-sizing:border-box;min-height:1px;height:.06em;border-top:.06em solid;margin:.06em -.1em;overflow:hidden}mjx-line[type="d"]{margin:.18em -.1em}mjx-mrow{display:inline-block;text-align:left}mjx-mi{display:inline-block;text-align:left}mjx-texatom{display:inline-block;text-align:left}mjx-msub{display:inline-block;text-align:left}mjx-msup{display:inline-block;text-align:left}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Zero.woff") format("woff")}@font-face{font-family:MJXTEX;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-B;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff") format("woff")}@font-face{font-family:MJXTEX-I;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff") format("woff")}@font-face{font-family:MJXTEX-MI;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff") format("woff")}@font-face{font-family:MJXTEX-BI;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff") format("woff")}@font-face{font-family:MJXTEX-S1;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-S2;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-S3;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-S4;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-A;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-C;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-CB;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff") format("woff")}@font-face{font-family:MJXTEX-FR;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-FRB;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff") format("woff")}@font-face{font-family:MJXTEX-SS;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-SSB;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff") format("woff")}@font-face{font-family:MJXTEX-SSI;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff") format("woff")}@font-face{font-family:MJXTEX-SC;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-T;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-V;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff") format("woff")}@font-face{font-family:MJXTEX-VB;src:url("https://publish.obsidian.md/lib/mathjax/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff") format("woff")}mjx-c.mjx-c34::before{padding:.677em .5em 0 0;content:"4"}mjx-c.mjx-c22C5::before{padding:.31em .278em 0 0;content:"⋅"}mjx-c.mjx-c38::before{padding:.666em .5em .022em 0;content:"8"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}mjx-c.mjx-c33::before{padding:.665em .5em .022em 0;content:"3"}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}mjx-c.mjx-c1D44F.TEX-I::before{padding:.694em .429em .011em 0;content:"b"}mjx-c.mjx-c1D456.TEX-I::before{padding:.661em .345em .011em 0;content:"i"}mjx-c.mjx-c1D461.TEX-I::before{padding:.626em .361em .011em 0;content:"t"}mjx-c.mjx-c1D460.TEX-I::before{padding:.442em .469em .01em 0;content:"s"}mjx-c.mjx-c30::before{padding:.666em .5em .022em 0;content:"0"}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c36::before{padding:.666em .5em .022em 0;content:"6"}mjx-c.mjx-c3F::before{padding:.705em .472em 0 0;content:"?"}mjx-c.mjx-c39::before{padding:.666em .5em .022em 0;content:"9"}mjx-c.mjx-c35::before{padding:.666em .5em .022em 0;content:"5"}mjx-c.mjx-c2F::before{padding:.75em .5em .25em 0;content:"/"}mjx-c.mjx-c2C::before{padding:.121em .278em .194em 0;content:","}mjx-c.mjx-c2E::before{padding:.12em .278em 0 0;content:"."}mjx-c.mjx-c37::before{padding:.676em .5em .022em 0;content:"7"}mjx-c.mjx-c1D451.TEX-I::before{padding:.694em .52em .01em 0;content:"d"}mjx-c.mjx-c1D45D.TEX-I::before{padding:.442em .503em .194em 0;content:"p"}mjx-c.mjx-c1D45F.TEX-I::before{padding:.442em .451em .011em 0;content:"r"}mjx-c.mjx-c1D45C.TEX-I::before{padding:.441em .485em .011em 0;content:"o"}mjx-c.mjx-c1D463.TEX-I::before{padding:.443em .485em .011em 0;content:"v"}mjx-c.mjx-c1D458.TEX-I::before{padding:.694em .521em .011em 0;content:"k"}mjx-c.mjx-c1D45A.TEX-I::before{padding:.442em .878em .011em 0;content:"m"}mjx-c.mjx-c2212::before{padding:.583em .778em .082em 0;content:"−"}mjx-c.mjx-c1D44E.TEX-I::before{padding:.441em .529em .01em 0;content:"a"}mjx-c.mjx-c1D45B.TEX-I::before{padding:.442em .6em .011em 0;content:"n"}mjx-c.mjx-c1D43F.TEX-I::before{padding:.683em .681em 0 0;content:"L"}mjx-c.mjx-c1D445.TEX-I::before{padding:.683em .759em .021em 0;content:"R"}mjx-c.mjx-c2B::before{padding:.583em .778em .082em 0;content:"+"}mjx-c.mjx-c1D43A.TEX-I::before{padding:.705em .786em .022em 0;content:"G"}mjx-c.mjx-c1D459.TEX-I::before{padding:.694em .298em .011em 0;content:"l"}mjx-c.mjx-c1D450.TEX-I::before{padding:.442em .433em .011em 0;content:"c"}mjx-c.mjx-c1D440.TEX-I::before{padding:.683em 1.051em 0 0;content:"M"}mjx-c.mjx-c1D435.TEX-I::before{padding:.683em .759em 0 0;content:"B"}</style><div class="markdown-preview-sizer markdown-preview-section" style="min-height:7090px"><div class="markdown-preview-pusher" style="width:1px;height:.1px;margin-bottom:0"></div><div class="mod-header"><div class="inline-title" data-heading="TCP" id="TCP" style="display:block">TCP</div></div><div><p>TCP come abbiamo più volte detto è un servizio <strong>orientato alla connessione</strong> questo vuol dire che i due host prima di cominciare a scambiarsi dati devono effettuare l'handshake (una operazione che consiste nello scambio di alcuni segmenti particolari che consente ai sistemi periferici di stabilire la connessione TCP).<br>Gli elementi della rete (router e switch a livello di collegamento) non salvano lo stato della connessione, la connessione risiede nei sistemi periferici, gli elementi intermedi sono ignari che i pacchetti che viaggiano nella rete siano elementi di una connessione TCP, essi vedono solo dei datagrammi.<br>TCP offre un servizio <em>full-duplex</em>: pacchetti possono viaggiare da e verso il mittente/destinatario contemporaneamente.<br>TCP è una connessione di tipo <em>punto a punto</em>: ha luogo fra un singolo mittente e un singolo destinatario, il multicast (pacchetti che viaggiano da un mittente e più destinatari) in TCP non è fattibile.</p></div><div class="heading-wrapper"><h6 data-heading="Creazione di una socket TCP in python" class="heading" id="Creazione_di_una_socket_TCP_in_python"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Creazione di una socket TCP in python<div class="heading-after">...</div></h6><div class="heading-children"><div><pre class="language-python" tabindex="0"><code class="language-python is-loaded">clientSocket<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span>serverName<span class="token punctuation">,</span> serverPort<span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token comment"># dove serverName: nome del server  </span>
<span class="token comment"># serverPort: porta su cui opera il processo server</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Quando un client contatta un server in TCP invia un pacchetto speciale, il server risponde con un pacchetto altrettanto speciale e infine il cliente invia una ulteriore conferma di aver ricevuto tale pacchetto, <strong>questa volta il pacchetto conterrà anche i dati della richiesta che il client vuole effettuare</strong>. Questa è la procedura di <em>handshake</em> che viene detto <em>a tre vie</em> (per il numero di scambio di pacchetti). I primi due pacchetti non contengono payload (dati), ma l'ultimo si.<br>Stabilita la connessione i due processi possono cominciare a scambiarsi dati.</p></div><div><p><span width="500" alt="Pasted image 20230927140512.png" src="lib\media\pasted-image-20230927140512.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927140512.png" src="lib\media\pasted-image-20230927140512.png" style="max-width:100%"></span><br>Quando un processo vuole inviare dati su TCP:</p></div><div><ul><li data-line="0">Il processo scrive i dati</li><li data-line="1">Attraverso la socket li consegna a TCP</li><li data-line="2">TCP li mette nel suo buffer di invio e li invia quando è meglio inviarli (in senso di prestazioni)<br>C'è un limite alla quantità di dati impachettabile in un segmento: <strong>MSS (<em>maximum segment size</em>)</strong>. Tale valore viene impostato generalmente determinando prima la lunghezza del frame più grande che può essere inviato a livello di collegamento dall'host mittente locale, la cosiddetta <strong>unità trasmissiva massima (MTU - <em>maximum transfer unit</em>)</strong> e poi scegliendo un MSS tale che il segmento TCP (una volta incapsulato in un datagramma IP) stia all'interno di un singolo frame a livello di collegamento, considerando anche la lunghezza dell'intestazione TCP/IP (40 byte in genere).<br>Si noti che MSS è la quantità massima di dati trasportabili da un segmento TCP (escluso di intestazione). Quando arrivano a destinazione i segmenti TCP vengono salvati nel buffer del ricevente da dove poi verranno prelevati ed inviati all'applicazione.</li></ul></div></div></div><div class="heading-wrapper"><h6 data-heading="Struttura segmenti TCP" class="heading" id="Struttura_segmenti_TCP"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Struttura segmenti TCP<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span width="400" alt="Pasted image 20230927140705.png" src="lib\media\pasted-image-20230927140705.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927140705.png" src="lib\media\pasted-image-20230927140705.png" style="max-width:100%"></span><br>Un pacchetto TCP è un insieme di dati (payload) e elementi di controllo del protocollo.<br>Se deve essere trasportato un dato con dimensione superiore a <strong>MSS</strong>, il dato viene suddiviso in più pacchetti. In altri casi possono anche essere inferiori della lunghezza di MSS.<br>Il campo header length indica la lunghezza dell’intestazione del pacchetto TCP: l’intestazione in TCP è variabile in termini di dimensione.<br>Campo flag:</p></div><div><ul><li data-line="0">ACK: il pacchetto contiene un ACK valido, ovvero il pacchetto è stato ricevuto con successo</li><li data-line="1">RST, SYN, FIN: per impostare e chiudere la connessione</li><li data-line="2">CWR, ECE: per il controllo della congestione</li><li data-line="3">PSH: se è 1 i dati devono essere subito consegnati al livello superiore dal destinatario</li><li data-line="4">URG: indica che il pacchetto è urgente, nella pratica PSH è URG non vengono usati.</li></ul></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="tip" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Differenza PSH e URG</div></div><div class="callout-content"><p>Vediamo in dettaglio cosa fa il flag URG e in cosa è diverso da PSH.<br>Diciamo, per esempio, che il mittente ha necessità (livello di applicazione) di inviare dei dati urgenti. Quindi crea i dati e li invia al buffer TCP (livello di trasporto):</p><ul><li data-line="3">Qui i dati vengono impacchettati e il bit URG viene posto a 1</li><li data-line="4">Durante la creazione del segmento, TCP piazza i dati (urgenti) all'inizio del segmento</li><li data-line="5">Il campo <em>urgent data pointer</em> indica il punto in cui terminano i dati nel segmento.</li><li data-line="6">TCP consegna il pacchetto a livello sottostante (rete - IP)</li></ul><p>Si noti che il segmento transita in IP normalmente, non subisce alcun trattamento speciale.<br>Quando il segmento giunge nel buffer TCP del mittente, inoltre TCP informa l'applicazione destinataria che è appena arrivato un segmento urgente e gli viene consegnato. Ora spetta all'applicazione ricevente agire su tali dati urgenti.<br><span alt="Pasted image 20230927141059.png" src="lib\media\pasted-image-20230927141059.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927141059.png" src="lib\media\pasted-image-20230927141059.png"></span><br>Il flag URG è utile quando il mittente vuole interrompere un trasferimento che è avvenuto, per esempio per errore.<br>Prima di vedere come funziona il PSH (push) vediamo come lavora il buffer TCP. Quando TCP riceve dei dati dall'applicazione mittente, li piazza nel buffer, il buffer ha un capienza limitata, quando il buffer si riempie il dato viene inviato. Il flag PSH comunica al livello di trasporto che il segmento deve essere inviato immediatamente, TCP può ritardare, se lo vuole, la spedizione del segmento, sia nel buffer mittente che ricevente.<br>La differenza con URG è che TCP non sceglie, ma agisce, in PSH invece l'app comunica che ci sono dei dati che devono essere spediti immediatamente, ma la scelta sta a TCP.</p></div></div></div></div></div><div class="heading-wrapper"><h6 data-heading="Campi: numero di sequenza e numero di acknowledgment" class="heading" id="Campi:_numero_di_sequenza_e_numero_di_acknowledgment"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Campi: numero di sequenza e numero di acknowledgment<div class="heading-after">...</div></h6><div class="heading-children"><div><p>TCP vede i dati come un flusso di byte ordinati.<br>Il numero di sequenza si riferisce al primo byte nel flusso di byte del segmento.<br>Supponiamo che debba essere inviato un file di 500.000 byte.<br>Diciamo che MSS valga 1000 byte e che il primo byte nel flusso sia numerato con 0.<br>Per questo flusso di dati TCP creerà 500 segmenti. Il primo avrà numero di sequenza 0, il secondo 1000, il terzo 2000 e così via.<br><span alt="Pasted image 20230927141813.png" src="lib\media\pasted-image-20230927141813.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927141813.png" src="lib\media\pasted-image-20230927141813.png"></span><br>Per i numeri di acknowledgment, dobbiamo ricordare che TCP è <em>full-duplex e che i dati viaggiano in entrambe le direzioni</em>.<br><mark>Il numero di ACK che l'host A, scrive nei propri segmenti è il numero di sequenza del byte successivo che l'host A attende dall'host B.</mark><br><em>Esempio</em>: Supponiamo che l’Host A abbia ricevuto da B tutti i byte numerati da 0 a 535 e che A stia per mandare un segmento all’Host B.<br>L’Host A è in attesa del byte 536 e dei successivi byte nel flusso di dati di B.<br>Pertanto, l’Host A scrive 536 nel campo del numero di acknowledgment del segmento che spedisce a B.<br>Come ulteriore esempio, supponiamo che l’Host A abbia ricevuto un segmento dall’Host B contenente i byte da 0 a 535 e un altro segmento contenente i byte da 900 a 1000.<br>Per qualche motivo l’Host A non ha ancora ricevuto i byte da 536 a 899.<br>In questo esempio, l’Host A sta ancora attendendo il byte 536 (e i successivi) per ricreare<br>il flusso di dati di B.<br>Perciò il prossimo segmento di A destinato a B conterrà 536 nel campo del numero di acknowledgment. Dato che TCP effettua l’acknowledgment solo dei byte fino al primo byte mancante nel flusso, si dice che tale protocollo offre acknowledgment cumulativi (cumulative acknowledgment).</p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="faq" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Cosa succede se un host riceve (come in questo esempio) i pacchetti in modo disordinato</div></div><div class="callout-content"><p>L'RFC lascia la scelta a chi implementa il protocollo:</p><ol><li data-line="2">Si può decidere di far scartare i pacchetti</li><li data-line="3">Si può decidere di tenerli nel buffer in attesa di tutti gli altri (scelta utilizzata e più efficiente)</li></ol></div></div></div></div></div><div class="heading-wrapper"><h6 data-heading="Timeout e stima del round trip time (RTT)" class="heading" id="Timeout_e_stima_del_round_trip_time_(RTT)"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Timeout e stima del round trip time (RTT)<div class="heading-after">...</div></h6><div class="heading-children"><div><p>TCP come per <em>rdt</em>, usa un meccanismo di timeout e ritrasmissione per recuperare i pacchetti persi. Il timeout dovrebbe essere più grande di un RTT. Ma di quanto? E come dovrebbe essere stimato?</p></div><div><p><strong>SampleRTT</strong>: il tempo che intercorre tra la consegna del segmento a IP e l'istante in cui arriva l'ACK relativo ad esso. Esso non viene calcolato per i pacchetti ritrasmessi e non viene calcolato per tutti i pacchetti, ma solo uno su dieci per esempio. Per ottenere una approssimazione dell'RTT, viene fatta una media di tutti gli RTT calcolati fino a quel momento.<br>Ad ogni nuovo SampleRTT si aggiorna la media (che TCP chiama <strong>EstimatedRTT</strong>):<br><span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left:0;margin-right:0"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D438 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c22C5"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D438 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c22C5"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D446 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>Il valore raccomandato per <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>è <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FC TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c38"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4"><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-math></mjx-container></span></p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Nota</div></div><div class="callout-content"><p>EstimatedRTT è una media ponderata che attribuisce maggiore importante ai nuovi pacchetti rispetto che a quelli vecchi.<br>Oltre ad avere una stima di RTT, è anche importante avere una variazione: DevRTT, ovvero quanto SampleRTT si scosta da EstimatedRTT.<br><span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left:0;margin-right:0"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D437 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c22C5"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D437 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c22C5"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mstyle><mjx-mspace style="width:.222em"></mjx-mspace></mjx-mstyle><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D446 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D438 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mstyle><mjx-mspace style="width:.222em"></mjx-mspace></mjx-mstyle><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math></mjx-container></span>Il valore suggerito per <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D6FD TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>è <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-math></mjx-container></span><br>Se i SampleRTT variano poco, DevRTT sarà piccolo, altrimenti sarà grande.<br>Il timeout non deve essere tanto maggiore di EstimatedRTT, altrimenti TCP non ritrasmetterebbe velocemente il segmento perduto, ma neanche troppo inferiore rispetto EstimatedRTT, altrimenti andrebbero ritrasmessi pacchetti che non dovrebbero essere ritrasmessi.<br>Il timeout quindi viene impostato a EstimatedRTT incrementato di un certo margine.</p></div></div></div><div><p><span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left:0;margin-right:0"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45C TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D43C TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D438 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c34"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c22C5"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D437 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>Viene raccomandato un valore iniziale di <strong>TimeoutInterval</strong> pari a 1 secondo. Inoltre quando si verifica un timeout, TimeoutInterval <em>viene raddoppiato</em> per evitare un timeout prematuro riferito ad un segmento successivo per cui si riceverà presto ACK. Tuttavia, quando viene ricevuto un segmento che permette l'aggiornamento di EstimatedRTT, TimeouInterval viene ricalcolato secondo la variabile sopra.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Trasferimento dati affidabile" class="heading" id="Trasferimento_dati_affidabile"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Trasferimento dati affidabile<div class="heading-after">...</div></h6><div class="heading-children"><div><p>TCP offre un trasferimento dati affidabile, sfruttando molte delle caratteristiche descritte in <em>rdt</em>. Avevamo accennato in <em>rdt</em> (che è un protocollo puramente teorico) che ogni segmento utilizza un timer, questo nella pratica sarebbe molto costoso, quindi TCP utilizza un singolo timer unico.</p></div><div><p>Descrizione del mittente TCP:</p></div><div><pre><code>loop(forever){
	event: data received from application above
		create TCP segment with sequence number NextSeqNum
		if(time currently not working)
			start timer
		pass segment to IP protocol
		NextSeqNum = NextSeqNum + length(data)

	event: timer timeout
		retransmit not-yet-acknowledged segment with smallest
			sequence number
		start timer

	event: ACK received, with ACK field value of y
		if(y &gt; SendBase){
			SendBase = y;
			if(there are currently not-yet-acknowledged segments)
				start timer
		}
}
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Nel terzo evento (<em>ACK received, with ACK filed value of y</em>), avviene la ricezione di un ACK con il campo "numero di sequenza ACK" uguale a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>. TCP confronta <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>con la variabile <code>SendBase</code> (numero di sequenza del più vecchio byte che non ha ricevuto ACK, di conseguenza <code>SendBase - 1</code> è l'ultimo numero di sequenza del segmento per cui si è ricevuto ACK). TCP marca i segmenti con numero di sequenza inferiore a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>come ricevuti (perché TCP usa ACK cumulativi), quindi il mittente aggiorna la propria variabile <code>SendBase</code>. Poi se ci sono segmenti che necessitano di ACK, riavvia il timer.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Scenario: perdita di un pacchetto" class="heading" id="Scenario:_perdita_di_un_pacchetto"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Scenario: perdita di un pacchetto<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span alt="Pasted image 20230927190616.png" src="lib\media\pasted-image-20230927190616.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927190616.png" src="lib\media\pasted-image-20230927190616.png"></span><br>L'hos A ha inviato un segmento con numero di sequenza <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c39"></mjx-c><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>(contenente 8 byte di dati).<br>L'host B lo riceve, ma l'ACK si perde.<br>Il timer di A scade e A ritrasmette il segmento con numero di sequenza <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c39"></mjx-c><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>.<br>B ha già ricevuto quel pacchetto, lo scarta e invia nuovamente l'ACK.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Scenario: timeout prematuro" class="heading" id="Scenario:_timeout_prematuro"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Scenario: timeout prematuro<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span width="400" alt="Pasted image 20230927191235.png" src="lib\media\pasted-image-20230927191235.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927191235.png" src="lib\media\pasted-image-20230927191235.png" style="max-width:100%"></span><br>L'host A invia i segmenti <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c39"></mjx-c><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>e <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math></mjx-container></span>.<br>L'host B invia gli ACK per quei pacchetti dopo il timeout.<br>Ad A scade il timer e rispedisce il segmento <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c39"></mjx-c><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>, poi riavvia il timer.<br>Il secondo pacchetto viene rispedito solo se l'ACK del secondo segmento non arriva entro il <strong>nuovo timeout</strong>.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Scenario: ACK cumulativi coprono la perdita di pacchetti avvenuta in precedenza" class="heading" id="Scenario:_ACK_cumulativi_coprono_la_perdita_di_pacchetti_avvenuta_in_precedenza"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Scenario: ACK cumulativi coprono la perdita di pacchetti avvenuta in precedenza<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span alt="Pasted image 20230927191825.png" src="lib\media\pasted-image-20230927191825.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927191825.png" src="lib\media\pasted-image-20230927191825.png"></span><br>L'host A invia due pacchetti con numero di sequenza <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c39"></mjx-c><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>e <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math></mjx-container></span>.<br>L'host B invia gli ACK: l'ACK 100 si perde.<br>Prima dello scadere del timer, arriva l'ACK 120 al mittente che gli segnala che il pacchetto <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c39"></mjx-c><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>(con 8 byte di dati) è stato ricevuto. Quindi è come se fosse arrivato anche l'ACK 100.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Ritrasmissione rapida" class="heading" id="Ritrasmissione_rapida"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Ritrasmissione rapida<div class="heading-after">...</div></h6><div class="heading-children"><div><p>Il periodo di timeout può rivelarsi relativamente lungo (per esempio quando un pacchetto si smarrisce ed impedisce al mittente di ritrasmettere il pacchetto subito). In molti casi il mittente può rilevare la perdita ancora prima che si verifichi il timeout grazie agli <strong>ACK duplicati</strong> relativi ad un segmento per cui è già stato ricevuto ACK dal mittente.</p></div><div><p>Tabella politica di generazione ACK.</p></div><div style="overflow-x:auto"><table><thead><tr><th>Evento</th><th>Azione del destinatario TCP</th></tr></thead><tbody><tr><td>Arrivo ordinato di un segmento con un numero di sequenza atteso. Tutti i dati fino al numero di sequenza atteso sono già stati riscontrati.</td><td>ACK ritardato. Attende fino a 500 millisecondi per l'arrivo ordinato di un altro segmento. Se in questo intervallo non arriva il successivo segmento, invia ACK.</td></tr><tr><td>Arrivo ordinato di un segmento con un numero di sequenza atteso. Un altro segmento ordinato è in attesa di trasmissione dell'ACK.</td><td>Invia immediatamente un singolo ACK cumulativo, riscontrando entrambi i segmenti ordinati.</td></tr><tr><td>Arrivo non ordinato di segmento con numero di sequenza superiore a quello atteso. Viene rilevato un buco.</td><td>Invia immediatamente un ACK duplicato, indicando il numero di sequenza del prossimo byte atteso (che è l'estremità inferiore del buco).</td></tr><tr><td>Arrivo di segmento che colma parzialmente o interamente il buco.</td><td>Invia immediatamente un ACK, ammesso che il segmento comincia all'estremità inferiore del buco.</td></tr></tbody></table></div><div><p>Se il mittente riceve tre ACKs duplicati per lo stesso dato, considera questo evento come indice che il segmento che lo segue è andato perduto. In questo caso TCP effettua una ritrasmissione rapida del pacchetto prima che scada il timer.<br><span alt="Pasted image 20230927192717.png" src="lib\media\pasted-image-20230927192717.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927192717.png" src="lib\media\pasted-image-20230927192717.png"></span><br>Come si vede nella figura avviene la perdita di un pacchetto.<br>Il pacchetto precedente e quelli successivi al pacchetto perduto arrivano a destinazione. Il destinatario invia ACK duplicati per il segmento con numero di sequenza <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math></mjx-container></span>. Il mittente capisce che il segmento <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math></mjx-container></span>è andato perso allora invia, prima dello scadere del timer, tale pacchetto.<br>I segmenti successivi, vengono salvati nel buffer del destinatario.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="GBN o SR?" class="heading" id="GBN_o_SR?"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>GBN o SR?<div class="heading-after">...</div></h6><div class="heading-children"><div><p>Ricordiamo che gli acknowledgment sono cumulativi, e che i segmenti ricevuti correttamente, ma in modo disordinato, non vengono notificati singolarmente dal destinatario, ovvero se un destinatario TCP riceve i pacchetti 1, 2, 5, salverà 5 nel buffer e solo quando riceverà 3 e 4, invierà ACK per 5. Mentre l'ACK per 2 verrà inviato subito. Quindi il mittente TCP deve memorizzare solo il numero di sequenza più basso tra i byte trasmessi che non hanno ancora ricevuto ACK (<code>SendBase</code>) e il numero di sequenza del successivo byte da inviare (<code>nextseqnum</code>). In questo contesto TCP somiglia molto a Go-Back-N. Ma ci sono delle differenze.<br><em>Esempio</em>: supponiamo che il mittente invii una sequenza di segmenti da 1 a N che arrivano al destinatario in ordine e senza errori. Ipotizziamo che il pacchetto con numero <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3C"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>vada perduto, ma che tutti gli altri vengono ricevuti dal mittente entro il timeout.<br>In questo caso GBN re-invierebbe non solo il segmento per cui è stato perso l'ACK, ma anche tutti gli altri a partire da <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math></mjx-container></span>fino a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>. TCP invece ritrasmetterebbe al massimo il segmento <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>. Inoltre TCP non ritrasmetterebbe nemmeno quello se ricevesse ACK prima dello scadere del timeout.<br>Una modifica proposta di TCP, il cosiddetto <strong>riscontro selettivo</strong>, consente al ricevente di inviare ACK non cumulativamente, quindi pacchetti ricevuti in disordine il destinatario invia ACK non cumulativo, ma selettivo. Se combinato con la ritrasmissione selettiva (ovvero evitando la ritrasmissione dei segmenti per cui si è già ricevuto un ACK in modo selettivo da destinatario), TCP è molto simile a un generico protocollo SR. Dunque è opportuno classificare il meccanismo di ripristino degli errori di TCP come un ibrido tra <a data-tooltip-position="top" aria-label="Ripetizione selettiva" data-href="Ripetizione selettiva" href="capitolo-3-livello-di-trasporto/ripetizione-selettiva.html" class="internal-link" target="_self" rel="noopener">SR</a> e <a data-tooltip-position="top" aria-label="Go-Back-N" data-href="Go-Back-N" href="capitolo-3-livello-di-trasporto/go-back-n.html" class="internal-link" target="_self" rel="noopener">GBN</a>.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Controllo del flusso" class="heading" id="Controllo_del_flusso"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Controllo del flusso<div class="heading-after">...</div></h6><div class="heading-children"><div><p>Gli estremi delle connessioni TCP hanno dei buffer per i segmenti in arrivo. Quando la connessione TCP riceve byte corretti e in sequenza, li posiziona nel buffer. Il processo applicativo legge i dati da questo buffer, ma non necessariamente nell'istante in cui arrivano. Il processo potrebbe ricevente potrebbe leggere i dati solo molto tempo dopo il loro arrivo. Nel caso in cui il processo ricevente è relativamente lento ad eseguire altre operazioni, il mittente potrebbe inviare più pacchetti di quanto il buffer ricevente venga svuotato dal processo ricevente. TCP offre un <strong>controllo del flusso</strong> alle applicazioni per evitare che il mittente saturi il buffer del ricevente.<br>Il <strong>controllo del flusso</strong> è un servizio di confronto sulla velocità, dato che paragona la frequenza di invio del mittente con quella di lettura dell'applicazione ricevente.<br>Il <strong>controllo della congestione</strong> riguarda invece la rete IP (livello di rete), che vedremo successivamente.</p></div><div><p>Parliamo del <strong>controllo del flusso</strong> e, per il momento, supponiamo che il ricevente TCP scarti i segmenti non in ordine. Il mittente mantiene una variabile chiamata finestra di ricezione (<em>receive window</em>) che fornisce al mittente un'indicazione sullo spazio libero nel buffer del ricevente.<br>Supponiamo che l'host A voglia inviare un file di grandi dimensioni all'host B tramite una connessione TCP. L'host B alloca un buffer, la cui dimensione è <code>rcvBuffer</code>. Definiamo le seguenti variabili:</p></div><div><ul><li data-line="0"><code>lastByteRead</code>: numero dell'ultimo byte nel flusso di dati che il processo applicativo in B ha letto dal buffer.</li><li data-line="1"><code>lastByteRcvd</code>: numero dell'ultimo byte nel flusso di dati che proviene dalla rete e che è stato copiato nel buffer di ricezione di B.<br>Dato che il mittente non deve mandare in overflow il buffer ricevente dovremo avere per forza: <span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left:0;margin-right:0"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D435 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D435 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2264"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D435 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>La finestra di ricezione (<code>rwnd</code>) viene impostata alla quantità di spazio disponibile nel buffer:<span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left:0;margin-right:0"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D464 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D435 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D435 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D435 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math></mjx-container></span><code>rwnd</code> è dinamica, dato che lo spazio varia col tempo. B comunica ad A quanto spazio disponibile è presente nel buffer della connessione, scrivendo il valore corrente di <code>rwnd</code> nel campo apposito dei segmenti che manda ad A.<br>B inizializza <code>rwnd</code> con il valore di <code>rcvBuffer</code> e deve tenere traccia delle variabili specifiche per ogni connessione.<br>A sua volta il mittente tiene traccia di due varaibili: <code>lastByteSent</code> e <code>lastByteAcked</code>.<br>A si assicura che sia rispettata la seguente disuguaglianza:<br><span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left:0;margin-right:0"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D435 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D446 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D459 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D435 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D434 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D458 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2264"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D464 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span><span alt="Pasted image 20230927195448.png" src="lib\media\pasted-image-20230927195448.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927195448.png" src="lib\media\pasted-image-20230927195448.png"></span></li></ul></div><div><p>In questo schema esiste un problema tecnico secondario, per accorgercene supponiamo che il buffer di ricezione dell'host B sia pieno, quindi <code>rwnd = 0</code> e che dopo averlo notificato all'host A, non abbia più nulla da inviare ad A e vediamo cosa succede.<br>Quando B svuoterà il buffer, TCP non invia nuovi segmenti con il valore aggiornato di <code>rwnd</code> (che si è svuotato). TCP fa pervenire segmenti ad A solo se B ha dati o ACK da mandare ad A. Di conseguenza l'host A non viene informato del fatto che sul buffer di B si è liberato dello spazio. A è bloccato e non invia dati. Per questo motivo le specifiche TCP impongono che il mittente continui ad inviare pacchetti al destinatario per dargli modo di rispondere. Prima o poi <code>rwnd</code> non sarà più nullo e B dovrà avere modo di farlo sapere ad A.<br>UDP non offre controllo del flusso, nel caso di UDP, semplicemente alcuni pacchetti andranno persi a causa di overflow nel buffer del destinatario.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Gestione della connessione (_3-way-hanshake_)" class="heading" id="Gestione_della_connessione_(_3-way-hanshake_)"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Gestione della connessione (<em>3-way-hanshake</em>)<div class="heading-after">...</div></h6><div class="heading-children"><div><p>Quando un processo client chiede ad un processo server di stabilire una connessione TCP, la connessione avviene attraverso i seguenti passi:</p></div><div><ol><li data-line="0">TCP lato cliente invia un pacchetto speciale al TCP lato server, questo segmento <em>non contiene dati</em>, ma il bit <strong>SYN</strong> è posto a 1. Per questo tale segmento viene detto <strong>segmento di SYN</strong>. Inoltre il client genera casualmente un numero di sequenza iniziale (<code>client_isn</code>) e lo pone nel campo numero di sequenza. Questo viene fatto al fine di evitare attacchi alla sicurezza.</li><li data-line="1">Quando il segmento di SYN arriva al server, alloca buffer e varaibili TCP e invia un segmento di connessione approvata al client. <em>Anche questo non contiene dati</em>. <strong>SYN è posto a 1</strong>. Il campo ACK assume valore <code>client_isn + 1</code> e genera un numero di sequenza iniziale <code>server_isn</code> e lo comunica al client. Tale segmento viene detto di <strong>SYNACK</strong>.</li><li data-line="2">Alla ricezione del segmento di <strong>SYNACK</strong> anche il client alloca buffer e variabili. Il client invia un altro segmento ponendo il valore <code>server_isn + 1</code> nel campo ACK. <strong>SYN è posto a 0</strong>. <em>Il campo dati può contenere dati</em>.<br><span width="250" alt="Pasted image 20230927200445.png" src="lib\media\pasted-image-20230927200445.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927200445.png" src="lib\media\pasted-image-20230927200445.png" style="max-width:100%"></span><br>Se si vuole chiudere la connessione, l'host che vuole effettuare la chiusura invia un comando di terminazione che forza TCP ad inviare un pacchetto speciale.<br>Il bit <strong>FIN sarà posto a 1</strong>. Quando l'host riceve questo segmento invia un ACK e risponde con un segmento con bit <strong>FIN a 1</strong>. L'altro host risponde con un ACK e tutte le risorse vengono deallocate sui sistemi periferici.<br><span width="300" alt="Pasted image 20230927200556.png" src="lib\media\pasted-image-20230927200556.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927200556.png" src="lib\media\pasted-image-20230927200556.png" style="max-width:100%"></span><br>Inviato l'ultimo ACK il server temporizza per l'ultima volta il segmento inviato, così da poterlo rispedire nel caso in cui vada smarrito.<br>Nel corso di una connessione TCP i protocolli TCP in esecuzione sugli host passano per vari stati.</li></ol></div></div></div><div class="heading-wrapper"><h6 data-heading="Stati lato client" class="heading" id="Stati_lato_client"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Stati lato client<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span alt="Pasted image 20230927200652.png" src="lib\media\pasted-image-20230927200652.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927200652.png" src="lib\media\pasted-image-20230927200652.png"></span></p></div></div></div><div class="heading-wrapper"><h6 data-heading="Stati lato server" class="heading" id="Stati_lato_server"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Stati lato server<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span alt="Pasted image 20230927200729.png" src="lib\media\pasted-image-20230927200729.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927200729.png" src="lib\media\pasted-image-20230927200729.png"></span></p></div><div><p>Se un client invia una connessione su una porta su cui il server non è in ascolto il server restituisce un segmento speciale con <strong>bit RST</strong>.<br><code>nmap</code>, un tool per analizzare le porte in ascolto su un host, come funziona? Invia segmenti TCP SYN, i possibili risultati sono tre:</p></div><div><ol><li data-line="0">Il server risponde con TCP SYNACK: porta aperta, <code>nmap</code> restituisce "open"</li><li data-line="1">Il server risponde RST: porta non aperta, ma non difesa da nessun firewall</li><li data-line="2">Il server non risponde: c'è un firewall</li></ol></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="danger" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Attacco SYN flooding</div></div><div class="callout-content"><p>Letteralmente <em>inondazione di SYN</em>.<br>Abbiamo visto come funzione l'handshake. Se l'ultimo segmento non viene inviato dal client, dopo un certo periodo di tempo (1 minuto circa), la connessione viene chiusa dal server.<br>Questo pone le basi per un attacco SYN FLOOD di tipo DoS. Chi attacca manda un gran numero di segmenti di SYN senza completare il terzo passo della procedura di handshake. Se partecipano più host l'attacco diventa di tipo distribuito (DDoS).</p><p>Una contromisura efficace è il <strong>SYN cookie</strong>.</p><ul><li data-line="6">Quando il server riceve un segmento di SYN non sa se chi lo ha inviato ha cattive intenzioni. Quindi non crea una connessione TCP mezza aperta, ma crea un numero di sequenza TCP iniziale come come funzione <em>hash</em> dell'IP e della porta sorgente e destinazione del segmento di SYN&nbsp;e una chiave segreta nota solo al server. Il server usa la stessa chiave per un ampio numero di connessioni. Il cookie è il numero di sequenza generato. Il server invia un SYNACK con questo numero di sequenza iniziale. (Il server non memorizza il cookie o qualsiasi altra informazione di stato corrispondente al SYN).</li><li data-line="7">Se il client è legittimo, risponde con un segmento di ACK. Il server, alla ricezione di esso, ha necessità di verificare se corrisponde allo stesso SYN inviato precedentemente. Come fa il server se non ha memoria sui segmenti di SYN? Come potete immaginare, viene fatto con il cookie. In particolare, per un ACK legittimo, il valore del campo di ACK è uguale al numero di sequenza SYNACK (il valore del cookie) più uno. Il server eseguirà poi la stessa funzione hash sopracitata usando i campi del segmento SYNACK (che erano poi gli stessi del SYN originale) e la chiave segreta. Se il risultato della funzione più uno è lo stesso del campo di ACK, il server conclude che l'ACK corrisponde al precedente segmento SYN e quindi è valido. Il server crea quindi una connessione TCP completamente aperta e una socket.</li><li data-line="8">Viceversa, se il client non risponde con un segmento di ACK, allora il SYN originale non ha fatto danni, in quanto non era state allocate risorse.</li></ul></div></div></div></div></div><div class="heading-wrapper"><h6 data-heading="Principi del controllo della congestione" class="heading" id="Principi_del_controllo_della_congestione"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Principi del controllo della congestione<div class="heading-after">...</div></h6><div class="heading-children"><div><p>Vediamo tre scenari via via più complessi. Non presenteremo subito una soluzione alla congestione, ma cercheremo di capire cosa succede quando gli host aumentano il loro tasso trasmissivo e le reti si congestionano.</p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="tip" class="callout node-insert-event"><div class="callout-title"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Potrebbe essere necessario ripassare e avere ben chiaro cosa sono il tasso di invio del mittente, il tasso di invio del destinatario e il throughput per comprendere bene ciò che segue</div></div><div class="callout-content"><ul><li data-line="1">Tasso di invio del mittente: si tratta della velocità con cui il mittente genera e invia dati nella rete. Questo tasso di invio è controllato dall'applicazione o dal livello di trasporto sul mittente e rappresenta la quantità di dati che il mittente è in grado di immettere nella rete in un certo periodo di tempo. Ad esempio un'applicazione può inviare dati ad una velocità di 1000 byte al secondo.</li><li data-line="2">Tasso di invio del ricevente: si tratta della velocità con cui il destinatario è in grado di ricevere e processare i dati provenienti dalla rete.</li><li data-line="3">Throughput: si tratta della misura effettiva della velocità di trasferimento dei dati tra il mittente e il destinatario attraverso la rete.</li></ul></div></div></div></div></div><div class="heading-wrapper"><h6 data-heading="Scenario 1: due mittenti e un router con buffer limitati" class="heading" id="Scenario_1:_due_mittenti_e_un_router_con_buffer_limitati"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Scenario 1: due mittenti e un router con buffer limitati<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span alt="Pasted image 20230927202428.png" src="lib\media\pasted-image-20230927202428.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927202428.png" src="lib\media\pasted-image-20230927202428.png"></span><br><span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>è la frequenza con cui i mittenti inviano dati al livello di trasporto (con una socket), ovvero la velocità di trasmissione.<br>Il router condiviso ha buffer illimitato.<br>Il collegamento uscente (verso la i server sulla destra) sul router ha capacità <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>.<br>Il buffer del router ha una capacità (illimitata) tale da consentirgli di memorizzare i segmenti con la velocità con cui arrivano nel router, anche quando la velocità sul collegamento entrante supera quella uscente.<br><span alt="Pasted image 20230927202721.png" src="lib\media\pasted-image-20230927202721.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230927202721.png" src="lib\media\pasted-image-20230927202721.png"></span><br>Queste immagini mostrano le prestazioni della connessione per uno dei due host.<br>In questo primo scenario vengono illustrate le prestazioni per l'host A.<br>L'immagine di sinistra mostra il throughput per connessione (la velocità con cui ricevono i destinatari) in funzione del tasso di invio. Vediamo che al crescere del tasso di invio, cresce anche il tasso di ricezione.<br>Essendoci due mittenti, la capacità del collegamento è divisa tra di essi (<span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>per ciascun mittente).<br>Finché il tasso di invio non supera il valore di <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>, il throughput del ricevente equivale alla velocità di invio del mittente: tutto ciò che viene trasmesso dal mittente viene ricevuto dal destinatario con un ritardo finito.<br>Ma se il tasso di invio supera <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>, il throughput resta <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>.<br>Il collegamento, semplicemente, non è in grado di consegnare pacchetti al destinatario a un tasso superiore a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>.<br>Per quanto elevata sia la velocità di invio da parte degli host, né A né B avranno mai un throughput superiore a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>. Poiché effettivamente i pacchetti vengono inoltrati con velocità <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>.</p></div><div><p>Il grafico a destra, mostra le conseguenze di operare al limite della capacità del collegamento.<br>Quando la velocità di invio si avvicina a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>(da sinistra), il ritardo medio cresce sempre di più.<br>Quando supera <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>, il numero medio di pacchetti in coda nel router cresce senza limiti e il ritardo medio tra origine e destinazione tende all'infinito (nell'ipotesi che le connessioni mantengano questa velocità di invio per un periodo di tempo infinito e che la capacità del buffer sia infinita).<br>Di conseguenza, avere un throughput aggregato vicino a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>potrebbe sembrare ideale dal punto di visita del throughput, ma non lo è certo dal punto di vista del ritardo. Perfino in questo scenario estremamente idealizzato abbiamo già trovato un costo dovuto alla congestione delle reti: quando il tasso di arrivo dei pacchetti si avvicina alla capacità del collegamento, <strong>si rilevano lunghi ritardi di accodamento</strong>.</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Scenario 2: due mittenti con buffer limitato" class="heading" id="Scenario_2:_due_mittenti_con_buffer_limitato"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Scenario 2: due mittenti con buffer limitato<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span alt="Pasted image 20230928111457.png" src="lib\media\pasted-image-20230928111457.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230928111457.png" src="lib\media\pasted-image-20230928111457.png"></span><br><span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>è la frequenza con cui i mittenti inviano dati al livello di trasporto (con una socket), ovvero la velocità di trasmissione.<br><span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msubsup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.254em;margin-left:0"><mjx-mo class="mjx-var" size="s"><mjx-c class="mjx-c2032"></mjx-c></mjx-mo><mjx-spacer style="margin-top:.18em"></mjx-spacer><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msubsup></mjx-math></mjx-container></span>è il tasso al quale il livello di trasporto invia i segmenti originali più quelli ritrasmessi (detto <em>offered load</em>).<br>Il router condiviso ha buffer <em>limitato</em>: i segmenti che arrivano quando il buffer è pieno vengono scartati.<br><strong>Adesso il buffer è limitato</strong>. I pacchetti che arrivano quando il buffer è pieno vengono scartati. Si suppone che il livello di trasporto sia affidabile, ovvero che i pacchetti scartati vengano prima o poi ritrasmessi. Le prestazioni dipendono da come vengono effettuate le ritrasmissioni. Distinguiamo dei casi:</p></div><div><ul><li data-line="0">Il mittente è in grado, per assurdo, di sapere quando il buffer del router è pieno, e quindi invia pacchetti solo quando c'è spazio nel buffer del router. In questo caso non si verificano perdite avremmo che <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-msubsup space="4"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.254em;margin-left:0"><mjx-mo class="mjx-var" size="s"><mjx-c class="mjx-c2032"></mjx-c></mjx-mo><mjx-spacer style="margin-top:.18em"></mjx-spacer><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msubsup></mjx-math></mjx-container></span>perché essenzialmente non vengono rispediti altri dati. Visto che non viene perso nessun pacchetto e non vi sono ritrasmissioni la velocità di invio media dell'host non supera <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>(grafico (a)).</li><li data-line="1">Caso un po' più realistico: il mittente rispedisce un pacchetto solo quando è certo che esso sia andato perduto (grafico (b)). Consideriamo il caso in cui il carico offerto alla rete (<em>offered load</em>) <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msubsup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.254em;margin-left:0"><mjx-mo class="mjx-var" size="s"><mjx-c class="mjx-c2032"></mjx-c></mjx-mo><mjx-spacer style="margin-top:.18em"></mjx-spacer><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msubsup></mjx-math></mjx-container></span>valga <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>. Questo vuol dire che ci sono dei dati ritrasmessi e dei dati nuovi. Il tasso con cui i dati vengono consegnati all'applicazione destinataria è <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c></mjx-mn></mjx-math></mjx-container></span>: <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>sono dati originali più dati ritrasmessi, di questi diciamo che <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c></mjx-mn></mjx-math></mjx-container></span>sono ritrasmessi e gli altri <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c></mjx-mn></mjx-math></mjx-container></span>sono originali. Abbiamo rilevato un costo della congestione: il mittente deve ritrasmettere i pacchetti scartati a causa di overflow nei buffer.</li><li data-line="2">Caso ancora più realistico: il mittente può effettuare timeout prematuramente e rispedire un pacchetto che ha subito ritardo in coda, ma che non è andato perduto. In questo caso, il ricevente può ricevere entrambe le copie del segmento, ma ne avrà bisogno solo di una, una parte del lavoro del mittente quindi è sprecata. Ed ecco un ulteriore costo: ritrasmissioni non necessarie. Considerando in media che un pacchetto viene instradato mediamente due volte dal router, il throughput assumerà asintoticamente valore <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c34"></mjx-c></mjx-mn></mjx-math></mjx-container></span>quando il carico offerto si avvicina a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math></mjx-container></span>(grafico (c)).</li></ul></div><div><p><span alt="Pasted image 20230928112239.png" src="lib\media\pasted-image-20230928112239.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230928112239.png" src="lib\media\pasted-image-20230928112239.png"></span><br>Grafico (a)<br><span alt="Pasted image 20230928112305.png" src="lib\media\pasted-image-20230928112305.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230928112305.png" src="lib\media\pasted-image-20230928112305.png"></span><br>Grafico (b)<br><span alt="Pasted image 20230928112444.png" src="lib\media\pasted-image-20230928112444.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230928112444.png" src="lib\media\pasted-image-20230928112444.png"></span><br>Grafico (c)</p></div></div></div><div class="heading-wrapper"><h6 data-heading="Scenario 3: quattro mittenti, router con buffer limitati e percorsi composti da più collegamenti" class="heading" id="Scenario_3:_quattro_mittenti,_router_con_buffer_limitati_e_percorsi_composti_da_più_collegamenti"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Scenario 3: quattro mittenti, router con buffer limitati e percorsi composti da più collegamenti<div class="heading-after">...</div></h6><div class="heading-children"><div><p><span alt="Pasted image 20230928123136.png" src="lib\media\pasted-image-20230928123136.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20230928123136.png" src="lib\media\pasted-image-20230928123136.png"></span><br>In questo caso supponiamo che i pacchetti siano trasmessi da 4 host, ciascuno su percorsi composti da due collegamenti sovrapposti tra loro. Ciascun host, inoltre, utilizza un meccanismo di timeout e ritrasmissione per implementare il servizio di trasporto affidabile.<br>Tutti e quattro hanno lo stesso valore di <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>.<br>La capacità dei collegamenti dei router è <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>bps.<br><strong>Consideriamo la connessione dall'host A all'host C che passa per i router <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>e <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>.</strong><br>Il router <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>condivide la connessione D-B (linea verde).<br>Il router <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>condivide la connessione B-D (linea rossa).<br>Per valori estremamente piccoli di <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>, gli overflow dei buffer sono rari (come gli scenari 1 e 2).<br>Per valori leggermente più grandi, il throughput è anch'esso più grande, gli overflow rimangono ancora rari. Di conseguenza per piccoli valori di <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>, un incremento di <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>, provoca l'aumento di <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45C TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>.</p></div><div><p>Esaminata la situazione in cui il traffico è estremamente scarso, passiamo a considerare il caso in cui <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>(e quindi <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msubsup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.254em;margin-left:0"><mjx-mo class="mjx-var" size="s"><mjx-c class="mjx-c2032"></mjx-c></mjx-mo><mjx-spacer style="margin-top:.18em"></mjx-spacer><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msubsup></mjx-math></mjx-container></span>) sia molto grande.<br>Prendiamo <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>in considerazione.<br>Il traffico (da A a C, linea azzurra) <strong>che giunge a</strong> <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>, dopo essere stato inoltrato da <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>, <strong>non può presentare un tasso di arrivo maggiore di</strong> <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>(<strong>che è la capacità del collegamento</strong> da <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>a <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>e anche di tutti gli altri) a prescindere dal valore di <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-math></mjx-container></span>.<br>Se <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msubsup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D706 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.254em;margin-left:0"><mjx-mo class="mjx-var" size="s"><mjx-c class="mjx-c2032"></mjx-c></mjx-mo><mjx-spacer style="margin-top:.18em"></mjx-spacer><mjx-texatom size="s" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msubsup></mjx-math></mjx-container></span>è estremamente grande per <strong>tutte le connessioni</strong> (B-D inclusa), il tasso di arrivo del traffico B-D su <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>può essere molto più elevato di quello del traffico A-C.<br>Dato che su <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>il traffico da A a C e quello da B a D sono in <strong>competizione per il limitato spazio dei buffer</strong>, la quantità di traffico A-C che passa con successo attraverso R2 (ossia, che non viene persa a causa dell'overflow) diventa sempre più piccola al crescere del traffico trasportato da B-D. Quando questo tende all'infinito, un buffer vuoto in <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>viene colmato da un pacchetto B-D, e il throughput della connessione A-C in <span class="math math-inline is-loaded"><mjx-container class="MathJax" jax="CHTML"><mjx-math class="MJX-TEX"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D445 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align:-.15em"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math></mjx-container></span>si annulla. Il traffico end-to-end di A-C si annulla in caso di traffico pesante.<br><mark>Praticamente ogni volta che un pacchetto nel secondo hop (<em>salto, router</em>) viene scartato, il lavoro fatto dal primo router per inviare quel pacchetto viene sprecato. Di fatti la rete avrebbe funzionato allo stesso modo, se il primo router non avesse spedito quel pacchetto che il secondo avrebbe rifiutato. La capacità trasmissiva sprecata potrebbe essere utilizzata in modo più proficuo. Sarebbe utile per esempio che il router desse priorità ai pacchetti che hanno già superato un certo numero di router.</mark></p></div></div></div><div class="heading-wrapper"><h6 data-heading="Approcci al controllo della congestione" class="heading" id="Approcci_al_controllo_della_congestione"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Approcci al controllo della congestione<div class="heading-after">...</div></h6><div class="heading-children"><div><p>Identifichiamo i principali orientamenti al controllo della congestione:</p></div><div><ul><li data-line="0"><strong>Controllo di congestione end-to-end</strong>: il livello sottostante non ritorna nessun feedback riguardo il livello di congestione, quindi il controllo della congestione deve avvenire agli estremi della rete, nei sistemi periferici. La perdita dei pacchetti (indicata dal timeout o ACK triplicati) è una indicazione di congestione della rete. TCP agisce diminuendo l’ampiezza della propria finestra.</li><li data-line="1"><strong>Controllo di congestione assistito dalla rete</strong>: i componenti della rete forniscono feedback riguardo la congestione della rete. Viene inviato un pacchetto <strong>chockepacket</strong> che informa, <em>direttamente</em>, il mittente di essere congestionato oppure il router congestionato invia un pacchetto diretto al destinatario in cui viene aggiunto un campo che indica la congestione, il ricevente poi comunicherà al mittente la congestione. Le versioni standard di TCP e IP adottano l'approccio end-to-end, ma possono implementare anche il controllo di congestione assistito.</li></ul></div><div><p>Navigazione:</p></div><div><ul><li data-line="0"><a data-href="Controllo della congestione in TCP" href="capitolo-3-livello-di-trasporto/controllo-della-congestione-in-tcp.html" class="internal-link" target="_self" rel="noopener">Controllo della congestione in TCP</a></li></ul></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder"><div class="graph-view-container"><div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div><canvas id="graph-canvas" width="512px" height="512px"></canvas></div></div></div><div class="tree-container outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#TCP"><span class="tree-item-title"><p>TCP</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Creazione_di_una_socket_TCP_in_python"><span class="tree-item-title"><p>Creazione di una socket TCP in python</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Struttura_segmenti_TCP"><span class="tree-item-title"><p>Struttura segmenti TCP</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Campi:_numero_di_sequenza_e_numero_di_acknowledgment"><span class="tree-item-title"><p>Campi: numero di sequenza e numero di acknowledgment</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Timeout_e_stima_del_round_trip_time_(RTT)"><span class="tree-item-title"><p>Timeout e stima del round trip time (RTT)</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Trasferimento_dati_affidabile"><span class="tree-item-title"><p>Trasferimento dati affidabile</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Scenario:_perdita_di_un_pacchetto"><span class="tree-item-title"><p>Scenario: perdita di un pacchetto</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Scenario:_timeout_prematuro"><span class="tree-item-title"><p>Scenario: timeout prematuro</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Scenario:_ACK_cumulativi_coprono_la_perdita_di_pacchetti_avvenuta_in_precedenza"><span class="tree-item-title"><p>Scenario: ACK cumulativi coprono la perdita di pacchetti avvenuta in precedenza</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Ritrasmissione_rapida"><span class="tree-item-title"><p>Ritrasmissione rapida</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#GBN_o_SR?"><span class="tree-item-title"><p>GBN o SR?</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Controllo_del_flusso"><span class="tree-item-title"><p>Controllo del flusso</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Gestione_della_connessione_(_3-way-hanshake_)"><span class="tree-item-title"><p>Gestione della connessione (<em>3-way-hanshake</em>)</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Stati_lato_client"><span class="tree-item-title"><p>Stati lato client</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Stati_lato_server"><span class="tree-item-title"><p>Stati lato server</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Principi_del_controllo_della_congestione"><span class="tree-item-title"><p>Principi del controllo della congestione</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Scenario_1:_due_mittenti_e_un_router_con_buffer_limitati"><span class="tree-item-title"><p>Scenario 1: due mittenti e un router con buffer limitati</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Scenario_2:_due_mittenti_con_buffer_limitato"><span class="tree-item-title"><p>Scenario 2: due mittenti con buffer limitato</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Scenario_3:_quattro_mittenti,_router_con_buffer_limitati_e_percorsi_composti_da_più_collegamenti"><span class="tree-item-title"><p>Scenario 3: quattro mittenti, router con buffer limitati e percorsi composti da più collegamenti</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="6"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Approcci_al_controllo_della_congestione"><span class="tree-item-title"><p>Approcci al controllo della congestione</p></span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div></div></div></body></html>